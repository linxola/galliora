- provide :title, 'Log in'

.bg-blur= render 'shared/background_image'

.content-center.auth-form
  %h1 Log in to Galliora
  .subtitle-link
    Don't have an account?
    = link_to 'Sign up', new_registration_path(resource_name), class: 'link-light'

  = render 'shared/flashes'

  = form_for(resource, as: resource_name, url: session_path(resource_name)) do |f|
    .form-floating
      = f.text_field :login, autofocus: true, autocomplete: 'login', class: 'form-control',
                             placeholder: 'Login'
      = f.label :login

    .form-floating#password_form
      = f.password_field :password, autocomplete: 'current-password', class: 'form-control',
                                    placeholder: 'Password'
      = f.label :password
      %span.password-toggle
        %i.bi.bi-eye{ 'data-controller': 'password',
                      'data-password-target': 'visibilityIcon',
                      'data-action': 'click->password#switchVisibility' }

    .row.mt-2.my-sm-2
      .col.text-nowrap.text-start
        - if devise_mapping.rememberable?
          .form-check
            = f.check_box :remember_me, class: 'form-check-input'
            = f.label :remember_me, class: 'form-check-label'
      .col.text-end.text-nowrap.d-none.d-sm-block
        = link_to 'Forgot password?', new_password_path(resource_name), class: 'link-light'

    = render 'shared/recaptcha', action: 'login', show_checkbox_recaptcha: @show_checkbox_recaptcha

    = f.submit 'SIGN IN', class: 'btn btn-light'

    .d-block.d-sm-none
      = link_to 'Forgot password?', new_password_path(resource_name), class: 'link-light'

  = render 'users/shared/omniauth_buttons'
