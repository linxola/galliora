- provide :title, 'Change your password'

.bg-blur= render 'shared/background_image'

.content-center.auth-form
  %h3 Change your password
  .subtitle-link
    (or
    = link_to 'log in', new_session_path(resource_name), class: 'link-light'
    )

  = render 'shared/flashes'

  = form_for(resource, as: resource_name, html: { method: :put },
                      url: password_path(resource_name),
                      data: { controller: 'form-validation',
                              action: 'form-validation#submitPasswordForm' }) do |f|
    = f.hidden_field :reset_password_token

    .form-floating.password-form#password
      = f.password_field :password, autocomplete: 'new-password',
                                    class: 'form-control',
                                    placeholder: 'New password',
                                    data: { 'bs-toggle': 'tooltip',
                                            'bs-placement': 'left',
                                            'bs-title': I18n.t('user.tooltips.password'),
                                            controller: 'form-validation',
                                            action: 'blur->form-validation#validatePassword' }
      = f.label :password, 'New password'
      %span.password-toggle
        %i.bi.bi-eye{ 'data-controller': 'password',
                      'data-password-target': 'visibilityIcon',
                      'data-action': 'click->password#switchVisibility' }
    = render 'shared/error_messages', resource:, field: :password
    = render 'shared/error_messages', resource:, field: :reset_password_token

    = f.submit 'Change my password', class: 'btn btn-light w-100'

  = render 'users/shared/omniauth_buttons'
